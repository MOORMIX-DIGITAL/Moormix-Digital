<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moormix Digital</title>
    <!-- Incluir Tailwind CSS desde CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Font 'Inter' -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            color: #374151;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <!-- Barra Superior de Anuncios -->
    <div class="bg-cyan-600 text-white text-center py-2 px-4 shadow-md">
        <p class="text-sm font-medium">Envíos gratis con planes a crédito</p>
    </div>

    <!-- Encabezado y Navegación -->
    <header class="bg-white sticky top-0 z-50 shadow-sm">
        <div class="container mx-auto px-4 py-3 flex justify-around items-center max-w-7xl">
            <!-- Logo -->
            <div class="flex items-center">
                <img src="images/logo.png" alt="Logo de Moormix Digital" class="h-10 w-auto">
            </div>

            <!-- Botones de Navegación -->
            <nav class="space-x-4">
                <button id="btn-inicio" class="text-gray-600 hover:text-cyan-600 hover:bg-gray-100 px-4 py-2 rounded-lg font-medium transition-colors">Inicio</button>
                <button id="btn-catalogo" class="text-gray-600 hover:text-cyan-600 hover:bg-gray-100 px-4 py-2 rounded-lg font-medium transition-colors">Catálogo</button>
                <button id="btn-nosotros" class="text-gray-600 hover:text-cyan-600 hover:bg-gray-100 px-4 py-2 rounded-lg font-medium transition-colors">Sobre nosotros</button>
                <button id="btn-contacto" class="text-gray-600 hover:text-cyan-600 hover:bg-gray-100 px-4 py-2 rounded-lg font-medium transition-colors">Contacto</button>
            </nav>
        </div>
    </header>

    <!-- Contenido Principal (Las "páginas" del sitio) -->
    <main class="container mx-auto px-4 py-8 flex-1 max-w-7xl">

        <!-- Página Principal (Por defecto visible) -->
        <div id="page-inicio" class="content-page">
            <div class="bg-white p-8 md:p-12 rounded-2xl shadow-lg text-center">
                <h1 class="text-4xl md:text-5xl font-extrabold text-gray-900 mb-4 animate-fade-in">Bienvenido a Moormix Digital</h1>
                <p class="text-lg md:text-xl text-gray-600 max-w-2xl mx-auto mb-8">Tu tienda de confianza para los últimos modelos de celulares. Explora nuestro catálogo y encuentra el dispositivo perfecto para ti.</p>
                <button id="btn-ir-catalogo" class="bg-cyan-600 text-white font-bold py-3 px-8 rounded-full shadow-lg hover:bg-cyan-700 transition-colors transform hover:scale-105">Explorar Catálogo</button>
            </div>
        </div>

        <!-- Página de Catálogo (Inicialmente oculta) -->
        <div id="page-catalogo" class="content-page hidden">
            <h2 class="text-3xl font-bold text-center mb-8">Catálogo de Teléfonos</h2>
            
            <!-- Barra de Búsqueda y Ordenamiento -->
            <div class="flex flex-col sm:flex-row justify-between items-center mb-6 space-y-4 sm:space-y-0 sm:space-x-4">
                <input type="text" id="search-input" placeholder="Buscar por nombre o descripción..." class="w-full sm:w-1/2 rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 p-2">
                <div class="flex items-center space-x-2">
                    <label for="sort-order" class="text-sm font-medium text-gray-700">Ordenar por:</label>
                    <select id="sort-order" class="rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 p-2">
                        <option value="default">Por defecto</option>
                        <option value="name">Nombre (A-Z)</option>
                        <option value="price">Precio (Menor a Mayor)</option>
                    </select>
                </div>
            </div>

            <div id="catalogo-grid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4">
                <!-- Los productos se insertarán aquí con JavaScript -->
            </div>
        </div>

                <!-- Página "Sobre Nosotros" (Inicialmente oculta) -->
        <div id="page-nosotros" class="content-page hidden">
            <div class="bg-white p-8 md:p-12 rounded-2xl shadow-lg">
                <h2 class="text-3xl font-bold mb-6 text-center">Sobre Nosotros</h2>
                <p class="text-gray-700 mb-4 text-left">
                    Moormix Digital es un emprendimiento digital fundado en 2025 con el objetivo de simplificar el acceso a la tecnología móvil en el mercado ecuatoriano. Nos especializamos en la venta de dispositivos de última generación, garantizando una experiencia de compra segura y conveniente.
                </p>
                <div class="mb-4">
                    <h3 class="text-xl font-semibold text-gray-800">Misión</h3>
                    <p class="text-gray-700">
                        Ofrecer a nuestros clientes los mejores y más recientes dispositivos móviles del mercado, a través de una plataforma accesible que prioriza la confianza y la satisfacción.
                    </p>
                </div>
                <div class="mb-4">
                    <h3 class="text-xl font-semibold text-gray-800">Servicios Clave</h3>
                    <ul class="list-disc list-inside text-gray-700">
                        <li>Selección Curada: Disponemos de un catálogo de smartphones y accesorios seleccionados por su calidad y rendimiento.</li>
                        <li>Planes de Pago Flexibles: Proporcionamos opciones de financiamiento adaptadas a las necesidades del cliente.</li>
                        <li>Logística Eficiente: Garantizamos envíos rápidos a nivel nacional.</li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-xl font-semibold text-gray-800">Visión</h3>
                    <p class="text-gray-700">
                        Proyectamos ser la primera opción para la compra de tecnología móvil en línea, construyendo una base de clientes leales que valoren nuestro servicio al cliente excepcional y nuestra constante actualización de productos.
                    </p>
                </div>
            </div>
        </div>

        <!-- Página de Contacto (Inicialmente oculta) -->
        <div id="page-contacto" class="content-page hidden">
            <div class="bg-white p-8 md:p-12 rounded-2xl shadow-lg max-w-2xl mx-auto">
                <h2 class="text-3xl font-bold mb-6 text-center">Contacto</h2>
                <p class="text-gray-700 mb-6 text-center">
                    Para reclamos o sugerencias, por favor, rellena el siguiente formulario. Nos pondremos en contacto contigo lo antes posible.
                </p>
                <form id="contact-form" class="space-y-4">
                    <div>
                        <label for="name" class="block text-sm font-medium text-gray-700">Tu nombre</label>
                        <input type="text" id="name" name="name" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 p-2" required>
                    </div>
                    <div>
                        <label for="email" class="block text-sm font-medium text-gray-700">Tu correo electrónico</label>
                        <input type="email" id="email" name="email" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 p-2" required>
                    </div>
                    <div>
                        <label for="message" class="block text-sm font-medium text-gray-700">Mensaje (Reclamo o sugerencia)</label>
                        <textarea id="message" name="message" rows="4" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-cyan-500 focus:ring-cyan-500 p-2" required></textarea>
                    </div>
                    <button type="submit" class="w-full bg-cyan-600 text-white font-bold py-2 px-4 rounded-md hover:bg-cyan-700 transition-colors">Enviar Reclamo / Sugerencia</button>
                </form>
                <div id="form-message" class="mt-4 text-center text-sm font-medium hidden"></div>
            </div>
        </div>

    </main>

    <!-- Modal para más información del producto -->
    <div id="info-modal" class="fixed inset-0 bg-gray-900 bg-opacity-75 z-[100] hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-lg p-6 w-full max-w-5xl max-h-[90vh] overflow-y-auto relative">
            <button id="close-modal" class="absolute top-4 right-4 text-gray-500 hover:text-gray-800 text-xl font-bold">
                &times;
            </button>
            <div id="modal-content" class="text-center">
                <!-- Contenido del modal se carga dinámicamente -->
            </div>
        </div>
    </div>

    <script>
        // Array de productos de ejemplo con variantes
        const products = [
            {
                name: "Infinix Smart 9",
                brand: "Infinix",
                shortDescription: "128GB/6RAM\n¡Incluye Regalo!",
                longDescription: "IMAGEN DE REFERENCIA.\nBuen rendimiento para Usos Básicos y Estudiantiles",
                images: ["images/infinixsmart9.png", "https://placehold.co/800x800/ffffff/000000?text=Honor+9A+Espalda", "https://placehold.co/800x800/ffffff/000000?text=Honor+9A+Lateral"],
                specs: [
                    "Procesador Octa-core (2* Cortex-A75 at 2.0 GHz+6*Cortex-A55 at 1.8 GHz)",
                    "Sistema operativo Android 15",
                    "Pantalla 6.79\" HD +IPS",
                    "Dimensiones 170.75*77.5*8.5mm",
                    "Cámara frontal 8 MP",
                    "Cámara trasera 50 MP",
                    "Batería 5000mAh 9V/2A"
                ],
                variants: [
                    { almacenamiento: "128GB", ram: "6GB", color: "Azul Océano", price: 120, stock: 15 },
                    { almacenamiento: "128GB", ram: "6GB", color: "Morado", price: 120, stock: 8 },
                    { almacenamiento: "512GB", ram: "12GB", color: "Negro", price: 120, stock: 10 },
                    { almacenamiento: "512GB", ram: "12GB", color: "Gris", price: 120, stock: 5 }
                ],
            },
            {
                name: "Infinix Smart 9 HD",
                brand: "Infinix",
                shortDescription: "64GB/6RAM.<br>¡Incluye Regalo!",
                longDescription: "El iPhone 15 Pro redefine la experiencia móvil con su chip A17 Pro, el más potente jamás visto en un smartphone. Su sistema de cámara Pro de 48MP te permite capturar fotos y videos con una calidad inigualable. Con su diseño de titanio de grado aeroespacial, es sorprendentemente ligero y resistente.",
                images: ["images/infinixsmart9hd.png", "https://placehold.co/800x800/ffffff/000000?text=Vista+2", "https://placehold.co/800x800/ffffff/000000?text=Vista+3"],
                specs: [
                    "Chip A17 Pro",
                    "Pantalla Super Retina XDR de 6.1 pulgadas",
                    "Sistema de cámara Pro de 48MP",
                    "Face ID",
                    "Batería de 27 horas de reproducción de video."
                ],
                variants: [
                    { almacenamiento: "64GB", ram: "6GB", color: "Verde Menta", price: 110, stock: 0 },
                    { almacenamiento: "64GB", ram: "6GB", color: "Negro Metálico", price: 110, stock: 5 },
                    { almacenamiento: "64GB", ram: "6GB", color: "Dorado", price: 110, stock: 0 },
                    { almacenamiento: "64GB", ram: "6GB", color: "Neo Titanio", price: 110, stock: 3 }
                ],
                tag: "Pocas Unidades"
            },
            {
                name: "Infinix Smart 10",
                brand: "Infinix",
                shortDescription: "Innovación y rendimiento con S Pen integrado y cámara de 200MP.",
                longDescription: "IMAGEN DE REFERENCIA.\nBuen rendimiento para Usos Básicos, Estudiantiles, Multitareas y Gamers",
                images: ["https://placehold.co/800x800/ffffff/000000?text=Frente", "https://placehold.co/800x800/ffffff/000000?text=Vista+2", "https://placehold.co/800x800/ffffff/000000?text=Vista+3"],
                specs: [
                    "Pantalla LCD IPS 6,60 120",
                    "Cámara principal 13 mp",
                    "Cámara frontal 8 mp",
                    "Procesador Unisoc T7250",
                    "Android 15",
                    "USB Tipo c",
                    "Tarjeta de memoria",
                    "Resistencia al polvo y a salpicadura de agua con IP64 ",
                    "Flash LED",
                    "Dual Sim",
                    "Batería 5000mAh."
                ],
                variants: [
                    { almacenamiento: "64GB", ram: "6GB", color: "Negro Elegante", price: 120.75, stock: 20 },
                    { almacenamiento: "64GB", ram: "6GB", color: "Plata Titanio", price: 120.75, stock: 15 },
                    { almacenamiento: "64GB", ram: "6GB", color: "Azul", price: 120.75, stock: 8 },
                    { almacenamiento: "64GB", ram: "6GB", color: "Dorado", price: 120.75, stock: 5 },
                    { almacenamiento: "128GB", ram: "8GB", color: "Azul", price: 132.25, stock: 8 },
                    { almacenamiento: "128GB", ram: "8GB", color: "Negro Elegante", price: 132.25, stock: 8 },
                    { almacenamiento: "128GB", ram: "8GB", color: "Plata Titanio", price: 132.25, stock: 8 },
                    { almacenamiento: "128GB", ram: "8GB", color: "Dorado", price: 132.25, stock: 8 },
                ]
            },
            {
                name: "Infinix Smart 11",
                brand: "Infinix",
                shortDescription: "Innovación y rendimiento con S Pen integrado y cámara de 200MP.",
                longDescription: "IMAGEN DE REFERENCIA.\nBuen rendimiento para Usos Básicos, Estudiantiles, Multitareas y Gamers",
                images: ["https://placehold.co/800x800/ffffff/000000?text=Frente", "https://placehold.co/800x800/ffffff/000000?text=Vista+2", "https://placehold.co/800x800/ffffff/000000?text=Vista+3"],
                specs: [
                    "Pantalla LCD IPS 6,60 120",
                    "Cámara principal 13 mp",
                    "Cámara frontal 8 mp",
                    "Procesador Unisoc T7250",
                    "Android 15",
                    "USB Tipo c",
                    "Tarjeta de memoria",
                    "Resistencia al polvo y a salpicadura de agua con IP64 ",
                    "Flash LED",
                    "Dual Sim",
                    "Batería 5000mAh."
                ],
                variants: [
                    { almacenamiento: "64GB", ram: "6GB", color: "Negro Elegante", price: 120.75, stock: 20 },
                    { almacenamiento: "64GB", ram: "6GB", color: "Plata Titanio", price: 120.75, stock: 15 },
                    { almacenamiento: "64GB", ram: "6GB", color: "Azul", price: 120.75, stock: 8 },
                    { almacenamiento: "64GB", ram: "6GB", color: "Dorado", price: 120.75, stock: 5 },
                    { almacenamiento: "128GB", ram: "8GB", color: "Azul", price: 132.25, stock: 8 },
                    { almacenamiento: "128GB", ram: "8GB", color: "Negro Elegante", price: 132.25, stock: 8 },
                    { almacenamiento: "128GB", ram: "8GB", color: "Plata Titanio", price: 132.25, stock: 8 },
                    { almacenamiento: "128GB", ram: "8GB", color: "Dorado", price: 132.25, stock: 8 },
                ]
            },
            {
                name: "Infinix Smart 12",
                brand: "Infinix",
                shortDescription: "Innovación y rendimiento con S Pen integrado y cámara de 200MP.",
                longDescription: "IMAGEN DE REFERENCIA.\nBuen rendimiento para Usos Básicos, Estudiantiles, Multitareas y Gamers",
                images: ["https://placehold.co/800x800/ffffff/000000?text=Frente", "https://placehold.co/800x800/ffffff/000000?text=Vista+2", "https://placehold.co/800x800/ffffff/000000?text=Vista+3"],
                specs: [
                    "Pantalla LCD IPS 6,60 120",
                    "Cámara principal 13 mp",
                    "Cámara frontal 8 mp",
                    "Procesador Unisoc T7250",
                    "Android 15",
                    "USB Tipo c",
                    "Tarjeta de memoria",
                    "Resistencia al polvo y a salpicadura de agua con IP64 ",
                    "Flash LED",
                    "Dual Sim",
                    "Batería 5000mAh."
                ],
                variants: [
                    { almacenamiento: "64GB", ram: "6GB", color: "Negro Elegante", price: 120.75, stock: 20 },
                    { almacenamiento: "64GB", ram: "6GB", color: "Plata Titanio", price: 120.75, stock: 15 },
                    { almacenamiento: "64GB", ram: "6GB", color: "Azul", price: 120.75, stock: 8 },
                    { almacenamiento: "64GB", ram: "6GB", color: "Dorado", price: 120.75, stock: 5 },
                    { almacenamiento: "128GB", ram: "8GB", color: "Azul", price: 132.25, stock: 8 },
                    { almacenamiento: "128GB", ram: "8GB", color: "Negro Elegante", price: 132.25, stock: 8 },
                    { almacenamiento: "128GB", ram: "8GB", color: "Plata Titanio", price: 132.25, stock: 8 },
                    { almacenamiento: "128GB", ram: "8GB", color: "Dorado", price: 132.25, stock: 8 },
                ]
            }
        ];

        products.forEach(product => {
    product.variants.forEach(variant => {
        variant.priceWithTax = variant.price * 1.15;
    });
});
        
        // Función para renderizar los productos en el catálogo
        function renderProducts(productsToRender) {
            const catalogoGrid = document.getElementById('catalogo-grid');
            catalogoGrid.innerHTML = ''; // Limpiar el contenedor
            if (productsToRender.length === 0) {
                catalogoGrid.innerHTML = `<p class="col-span-full text-center text-gray-500">No se encontraron productos.</p>`;
                return;
            }
            productsToRender.forEach((product, index) => {
                const tagColor = product.tag === "Oferta" ? "bg-red-500" : (product.tag === "Nuevo" ? "bg-green-500" : (product.tag === "Pocas Unidades" ? "bg-yellow-500" : "bg-cyan-600"));
                const tagHtml = product.tag ? `<span class="absolute top-2 right-2 ${tagColor} text-white text-xs font-semibold px-2 py-1 rounded-full uppercase shadow-md">${product.tag}</span>` : '';
                
                const productCard = `
                    <div class="bg-white p-4 rounded-2xl shadow-lg flex flex-col items-center text-center transition-transform hover:scale-105 h-full relative">
                        ${tagHtml}
                        <img src="${product.images[0]}" alt="${product.name}" class="w-full h-40 object-cover rounded-lg mb-4">
                        <h3 class="text-xl font-semibold text-gray-800 mb-2">${product.name}</h3>
                        <p class="text-gray-500 text-sm mb-4 flex-1">${product.shortDescription}</p>
                       <div class="mb-4">
    <span class="text-sm text-gray-400 line-through">
        $${product.variants[0].price.toFixed(2)}
    </span>
    <br>
    <span class="text-2xl font-bold text-cyan-600">
        $${product.variants[0].priceWithTax.toFixed(2)}
    </span>
    <span class="text-xs font-semibold text-gray-500">
        (Precio con IVA)
    </span>
</div>
                        <button class="info-btn w-full bg-gray-200 text-gray-800 font-bold py-2 rounded-lg hover:bg-gray-300 transition-colors" data-product-index="${index}">
                            Más Info
                        </button>
                    </div>
                `;
                catalogoGrid.innerHTML += productCard;
            });
            // Añadir listeners a los nuevos botones
            document.querySelectorAll('.info-btn').forEach(button => {
                button.addEventListener('click', showModal);
            });
        }
        
        // Función para mostrar el modal con la información del producto
        function showModal(event) {
            const index = event.target.getAttribute('data-product-index');
            const product = products[index];
            const modal = document.getElementById('info-modal');
            const modalContent = document.getElementById('modal-content');
            
            // Recolectar opciones únicas para cada categoría
            const uniqueOptions = {
                almacenamiento: [...new Set(product.variants.map(v => v.almacenamiento))].sort(),
                ram: [...new Set(product.variants.map(v => v.ram))].sort(),
                color: [...new Set(product.variants.map(v => v.color))].sort()
            };
            
            // Establecer la variante inicial como la primera
            let selectedVariant = product.variants[0];

            // Generar las opciones dinámicamente
            let optionsHtml = '';
            for (const key in uniqueOptions) {
                const label = key.charAt(0).toUpperCase() + key.slice(1);
                optionsHtml += `
                    <div class="mb-4">
                        <p class="text-gray-700 font-semibold mb-2">${label}:</p>
                        <div class="flex flex-wrap gap-2">
                            ${uniqueOptions[key].map(option => `
                                <button class="option-btn px-4 py-2 border rounded-full text-sm font-medium transition-colors border-gray-300 bg-white text-gray-700 hover:bg-gray-100 data-[selected=true]:bg-cyan-600 data-[selected=true]:text-white data-[selected=true]:border-cyan-600" data-option-type="${key}" data-option-value="${option}" ${option === selectedVariant[key] ? 'data-selected="true"' : ''}>
                                    ${option}
                                </button>
                            `).join('')}
                        </div>
                    </div>
                `;
            }

            const whatsappMessage = `Hola, me interesa comprar el ${product.name} con ${selectedVariant.almacenamiento} de almacenamiento, ${selectedVariant.ram} de RAM y color ${selectedVariant.color}.`;
            modalContent.innerHTML = `
                <div class="flex flex-col lg:flex-row items-center lg:items-start text-left space-y-8 lg:space-y-0 lg:space-x-8 p-4">
                    <!-- Galería de imágenes -->
                    <div class="flex flex-col items-center w-full lg:w-1/2">
                        <img id="main-product-image" src="${product.images[0]}" alt="${product.name}" class="w-full h-auto rounded-lg shadow-lg mb-4">
                        <div class="flex space-x-2 overflow-x-auto w-full justify-center">
                            ${product.images.map(image => `
                                <img src="${image}" alt="${product.name}" class="thumbnail w-20 h-20 rounded-md cursor-pointer border-2 border-transparent hover:border-cyan-600 transition-colors" onclick="document.getElementById('main-product-image').src='${image}'">
                            `).join('')}
                        </div>
                    </div>
                    
                    <!-- Detalles y opciones del producto -->
                    <div class="w-full lg:w-1/2">
                        <span class="bg-pink-500 text-white text-xs font-semibold px-2 py-1 rounded-full uppercase">${product.brand}</span>
                        <h3 class="text-3xl font-bold text-gray-900 mt-2">${product.name}</h3>
                        <p class="text-sm text-gray-500 mt-2">Disponibles: <span id="modal-stock">${selectedVariant.stock}</span>!</p>
                        <div class="my-4">
    <span class="text-lg text-gray-400 line-through block">
        $${selectedVariant.price.toFixed(2)}
    </span>
    <span id="modal-price" class="text-4xl font-extrabold text-cyan-600 block">
        $${selectedVariant.priceWithTax.toFixed(2)}
    </span>
</div>
                        
                        <!-- Opciones de selección (RAM, Almacenamiento, Color) -->
                        ${optionsHtml}
                        
                        <!-- Cantidad y Añadir al carrito -->
                        <div class="flex items-center space-x-4 mb-6">
                            <div class="flex items-center border border-gray-300 rounded-lg overflow-hidden">
                                <button id="qty-minus" class="p-2 text-gray-600 hover:bg-gray-100 transition-colors">-</button>
                                <input id="qty-input" type="number" value="1" min="1" max="${selectedVariant.stock}" class="w-12 text-center border-none focus:outline-none p-2">
                                <button id="qty-plus" class="p-2 text-gray-600 hover:bg-gray-100 transition-colors">+</button>
                            </div>
                            <a id="modal-whatsapp-link" href="https://wa.me/593967427594?text=${encodeURIComponent(whatsappMessage)}" class="flex-1 text-center bg-green-500 text-white font-bold py-3 rounded-lg hover:bg-green-600 transition-colors">
                                COMPRAR POR WHATSAPP
                            </a>
                        </div>
                        
                        <!-- Pestañas de Descripción y Especificaciones -->
                        <div class="border-b border-gray-200 mt-6">
                            <nav class="-mb-px flex space-x-8" aria-label="Tabs">
                                <button id="tab-desc" class="tab-btn border-b-2 border-cyan-600 text-cyan-600 font-bold py-2 px-4 transition-colors duration-200">DESCRIPCIÓN</button>
                                <button id="tab-specs" class="tab-btn border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 py-2 px-4 transition-colors duration-200">ESPECIFICACIÓN</button>
                            </nav>
                        </div>
                        <div id="tab-content" class="pt-4 text-gray-700 text-sm">
                            <!-- El contenido de la pestaña se carga aquí -->
                        </div>
                    </div>
                </div>
            `;
            
            // Función para actualizar el precio y stock en el modal
            function updateModalUI() {
                const currentSelection = {
                    almacenamiento: document.querySelector('.option-btn[data-option-type="almacenamiento"][data-selected="true"]').getAttribute('data-option-value'),
                    ram: document.querySelector('.option-btn[data-option-type="ram"][data-selected="true"]').getAttribute('data-option-value'),
                    color: document.querySelector('.option-btn[data-option-type="color"][data-selected="true"]').getAttribute('data-option-value')
                };

                const matchedVariant = product.variants.find(v => 
                    v.almacenamiento === currentSelection.almacenamiento &&
                    v.ram === currentSelection.ram &&
                    v.color === currentSelection.color
                );

                if (matchedVariant) {
                    document.getElementById('modal-price').textContent = `$${matchedVariant.priceWithTax.toFixed(2)}`;
                    document.getElementById('modal-stock').textContent = matchedVariant.stock;
                    document.getElementById('qty-input').max = matchedVariant.stock;
                    document.getElementById('qty-input').value = 1; // Reset cantidad

                    const whatsappMessage = `Hola, me interesa comprar el ${product.name} con ${matchedVariant.almacenamiento} de almacenamiento, ${matchedVariant.ram} de RAM y color ${matchedVariant.color}.`;
                    document.getElementById('modal-whatsapp-link').href = `https://wa.me/593967427594?text=${encodeURIComponent(whatsappMessage)}`;
                } else {
                    document.getElementById('modal-price').textContent = 'No disponible';
                    document.getElementById('modal-stock').textContent = '0';
                    document.getElementById('qty-input').max = 0;
                    document.getElementById('qty-input').value = 0;
                    document.getElementById('modal-whatsapp-link').href = '#';
                }
            }
            
            // Lógica para pestañas
            const tabDescBtn = document.getElementById('tab-desc');
            const tabSpecsBtn = document.getElementById('tab-specs');
            const tabContent = document.getElementById('tab-content');
            
            function showTabContent(tabId) {
                tabDescBtn.classList.remove('border-cyan-600', 'text-cyan-600', 'font-bold');
                tabDescBtn.classList.add('border-transparent', 'text-gray-500', 'hover:text-gray-700', 'hover:border-gray-300');
                tabSpecsBtn.classList.remove('border-cyan-600', 'text-cyan-600', 'font-bold');
                tabSpecsBtn.classList.add('border-transparent', 'text-gray-500', 'hover:text-gray-700', 'hover:border-gray-300');
                
                if (tabId === 'tab-desc') {
                    tabDescBtn.classList.add('border-cyan-600', 'text-cyan-600', 'font-bold');
                    // Reemplazar saltos de línea con <br> para una mejor visualización
                    const formattedDescription = product.longDescription.replace(/\n/g, '<br>');
                    tabContent.innerHTML = `<p>${formattedDescription}</p>`;
                } else if (tabId === 'tab-specs') {
                    tabSpecsBtn.classList.add('border-cyan-600', 'text-cyan-600', 'font-bold');
                    const specsList = product.specs.map(spec => `<li class="mb-1">${spec}</li>`).join('');
                    tabContent.innerHTML = `<ul class="list-disc list-inside space-y-1">${specsList}</ul>`;
                }
            }

            tabDescBtn.addEventListener('click', () => showTabContent('tab-desc'));
            tabSpecsBtn.addEventListener('click', () => showTabContent('tab-specs'));

            // Lógica para cantidad
            const qtyInput = document.getElementById('qty-input');
            document.getElementById('qty-plus').addEventListener('click', () => {
                let currentVal = parseInt(qtyInput.value);
                if (currentVal < parseInt(qtyInput.max)) {
                    qtyInput.value = currentVal + 1;
                }
            });
            document.getElementById('qty-minus').addEventListener('click', () => {
                let currentVal = parseInt(qtyInput.value);
                if (currentVal > 1) {
                    qtyInput.value = currentVal - 1;
                }
            });

            // Lógica para las opciones de selección
            document.querySelectorAll('.option-btn').forEach(button => {
                button.addEventListener('click', (e) => {
                    const optionType = e.target.getAttribute('data-option-type');
                    // Deseleccionar todas las opciones del mismo tipo
                    document.querySelectorAll(`.option-btn[data-option-type="${optionType}"]`).forEach(btn => {
                        btn.removeAttribute('data-selected');
                    });
                    // Seleccionar la opción actual
                    e.target.setAttribute('data-selected', 'true');
                    
                    updateModalUI();
                });
            });

            // Mostrar la pestaña de descripción por defecto y actualizar la UI
            showTabContent('tab-desc');
            updateModalUI(); // Llamada inicial
            modal.classList.remove('hidden');
        }

        // Función para ocultar el modal
        function hideModal() {
            document.getElementById('info-modal').classList.add('hidden');
        }

        // Manejadores de eventos para la navegación
        document.getElementById('btn-inicio').addEventListener('click', () => {
            showPage('page-inicio');
        });
        document.getElementById('btn-catalogo').addEventListener('click', () => {
            showPage('page-catalogo');
            updateCatalog();
        });
        document.getElementById('btn-nosotros').addEventListener('click', () => {
            showPage('page-nosotros');
        });
        document.getElementById('btn-contacto').addEventListener('click', () => {
            showPage('page-contacto');
        });
        document.getElementById('btn-ir-catalogo').addEventListener('click', () => {
            showPage('page-catalogo');
            updateCatalog();
        });

        // Manejadores de eventos para búsqueda y ordenamiento
        document.getElementById('search-input').addEventListener('input', updateCatalog);
        document.getElementById('sort-order').addEventListener('change', updateCatalog);
        
        // Manejador de evento para cerrar el modal
        document.getElementById('close-modal').addEventListener('click', hideModal);
        document.getElementById('info-modal').addEventListener('click', (event) => {
            if (event.target === event.currentTarget) {
                hideModal();
            }
        });

        // Función para actualizar el catálogo con búsqueda y ordenamiento
        function updateCatalog() {
            const searchTerm = document.getElementById('search-input').value.toLowerCase();
            const sortOrder = document.getElementById('sort-order').value;

            let filteredProducts = products.filter(product => {
                const name = product.name.toLowerCase();
                const shortDescription = product.shortDescription.toLowerCase();
                return name.includes(searchTerm) || shortDescription.includes(searchTerm);
            });

            if (sortOrder === 'name') {
                filteredProducts.sort((a, b) => a.name.localeCompare(b.name));
            } else if (sortOrder === 'price') {
                filteredProducts.sort((a, b) => a.variants[0].price - b.variants[0].price);
            }

            renderProducts(filteredProducts);
        }

        // Función para cambiar de página
        function showPage(pageId) {
            document.querySelectorAll('.content-page').forEach(page => {
                page.classList.add('hidden');
            });
            document.getElementById(pageId).classList.remove('hidden');
        }

        // Manejador de evento para el formulario de contacto
        document.getElementById('contact-form').addEventListener('submit', function(event) {
            event.preventDefault(); // Evita que el formulario se envíe de forma tradicional
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const message = document.getElementById('message').value;
            const subject = "Reclamo o sugerencia de " + name;
            const body = `Nombre: ${name}\nCorreo: ${email}\n\nMensaje:\n${message}`;
            const mailtoLink = `mailto:moormixdigital@outloo.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
            
            // Simular el envío del correo abriendo la aplicación de email del usuario
            window.location.href = mailtoLink;

            // Mostrar un mensaje de confirmación
            const formMessage = document.getElementById('form-message');
            formMessage.textContent = "Tu mensaje ha sido enviado a tu cliente de correo para su confirmación.";
            formMessage.classList.remove('hidden');
            formMessage.classList.add('text-green-600');
            
            // Limpiar el formulario después de un breve retraso
            setTimeout(() => {
                document.getElementById('contact-form').reset();
                formMessage.classList.add('hidden');
            }, 5000);
        });

        // Inicializar la página de inicio al cargar
        showPage('page-inicio');
        // Inicializar el catálogo con la función de actualización
        updateCatalog();

    </script>
</body>
</html>
